from tkinter import *
def click(event):
    global scvalue
    text = event.widget.cget("text")
    
    if text == "=":
        try:
            value = eval(screen.get())
        except Exception:
            value = "Error"
        scvalue.set(value)

    elif text == "C":
        scvalue.set("")
    else:
        scvalue.set(scvalue.get() + text)

root = Tk()
root.geometry("400x600")
root.title("Calculator")

scvalue = StringVar()
scvalue.set("")

screen = Entry(root, textvar=scvalue, font="Arial 30 bold", bd=10, relief=SUNKEN, justify=RIGHT)
screen.pack(fill=X, ipadx=8, pady=20, padx=10)

def create_row(button_texts, bg_color="lightgrey"):
    f = Frame(root, bg="grey")
    for txt in button_texts:
        if txt in ["=", "C"]:
            b = Button(f, text=txt, padx=20, pady=20, font="Arial 25 bold", bg="orange" if txt=="=" else "red", fg="white")
        else:
            b = Button(f, text=txt, padx=20, pady=20, font="Arial 25 bold", bg=bg_color)
        b.pack(side=LEFT, padx=5, pady=5, expand=True, fill=BOTH)
        b.bind("<Button-1>", click)
    f.pack(fill=X, padx=10)
    
create_row(["7", "8", "9", "/"])
create_row(["4", "5", "6", "*"])
create_row(["1", "2", "3", "-"])
create_row(["0", ".", "%", "+"])
create_row(["C", "="])  # Clear and Equal buttons

root.mainloop()
